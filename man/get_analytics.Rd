% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_analytics.R
\name{get_analytics}
\alias{get_analytics}
\title{Retrieves data for specified data elements from KHIS analytics tables}
\usage{
get_analytics(
  element_ids,
  start_date,
  end_date = NULL,
  level = c("kenya", "county", "subcounty", "ward", "facility"),
  organisations = NULL,
  categories = NULL,
  elements = NULL,
  khis_session = dynGet("khis_default_session", inherits = TRUE),
  retry = 1,
  verbosity = 0
)
}
\arguments{
\item{element_ids}{A vector of data element IDs for which to retrieve data. Required.}

\item{start_date}{The starting date for data retrieval in the format 'YYYY-MM-dd'. Required.}

\item{end_date}{The ending date for data retrieval (default is the current date).}

\item{level}{The desired data granularity: "kenya", "county", "subcounty", "ward", or "facility".}

\item{organisations}{A list of organization units to filter the data. If NULL, downloaded using \code{get_organisation_units()}.}

\item{categories}{A list of categories to include. If NULL, downloaded using \code{get_categories()}.}

\item{elements}{A list of data elements to include. If NULL, downloaded using \code{get_data_elements()}.}

\item{khis_session}{A KHIS session object to use for the API call. Defaults to the default session.}

\item{retry}{The number of times to retry the API call if it fails. Defaults to 1.}

\item{verbosity}{The level of detail to log for the API call. Defaults to 0 (no logging).}
}
\value{
A tibble containing the retrieved data.
}
\description{
\code{get_analytics} fetches raw data from the KHIS analytics data tables for a
given period and data element(s), without performing any aggregation.
}
\details{
\itemize{
\item Retrieves data directly from KHIS analytics tables.
\item Returns a tibble (data frame) with detailed information, including:
\itemize{
\item Geographical identifiers (kenya, county, subcounty, ward, facility, depending on level)
\item Reporting period (month, year, fiscal year)
\item Data element names
\item Category options
\item Reported values
}
\item Supports optional arguments for providing organization lists, data elements, and categories.
\item Allows specifying KHIS session objects, retry attempts, and logging verbosity.
}
}
\seealso{
get_organisation_units(), get_data_elements(), get_categories()
}
